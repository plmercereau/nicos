---
title: "Command line interface"
sidebarTitle: "CLI"
icon: "terminal"
comment: "AUTOGENERATED FILE, DO NOT MODIFY MANUALLY"
---

## nicos
```bash
nix run github:plmercereau/nicos -- [OPTIONS] COMMAND [ARGS]...
```


<ParamField path="Options">
|     |     |
| --- | --- |
| `--ci / --no-ci` | Run in CI mode, which disables prompts. Some commands are not available in CI mode. |
| `--help` | Show this message and exit. |
</ParamField>


<ParamField path="Commands">
|     |     |
| --- | --- |
| [build](#nicos-build) | Build a machine ISO image. |
| [create](#nicos-create) | Create a new machine in the cluster. |
| [deploy](#nicos-deploy) | Deploy one or several existing machines |
| [init](#nicos-init) | Initialise a new cluster. |
| [install](#nicos-install) | Install a machine using nixos-anywhere. |
| [secrets](#nicos-secrets) | Manage the secrets for the cluster |
</ParamField>

## nicos build
```bash
nix run github:plmercereau/nicos -- build [OPTIONS] [MACHINE]
```

  Build a machine ISO image.


<ParamField path="Options">
|     |     |
| --- | --- |
| `-k, --private-key-path TEXT` | The path to the private key to use. Defaults to ssh_&lt;machine&gt;_ed25519_key. |
| `--help` | Show this message and exit. |
</ParamField>

## nicos create
```bash
nix run github:plmercereau/nicos -- create [OPTIONS] [NAME]
```

  Create a new machine in the cluster.


<ParamField path="Options">
|     |     |
| --- | --- |
| `--rekey / --no-rekey` | Rekey the secrets after creating the machine configuration. |
| `--help` | Show this message and exit. |
</ParamField>

## nicos deploy
```bash
nix run github:plmercereau/nicos -- deploy [OPTIONS] [MACHINES]...
```

  Deploy one or several existing machines


<ParamField path="Options">
|     |     |
| --- | --- |
| `--network [vpn\|lan\|public\|default]` | Way to connect to the machines. |
| `--all` | Deploy all available machines. |
| `--nixos` | Include the NixOS machines. |
| `--darwin` | Include the Darwin machines. |
| `--remote-build` | Build on remote host. |
| `--help` | Show this message and exit. |
</ParamField>

## nicos init
```bash
nix run github:plmercereau/nicos -- init [OPTIONS]
```

  Initialise a new cluster.


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos install
```bash
nix run github:plmercereau/nicos -- install [OPTIONS] [MACHINE] [IP]
```

  Install a machine using nixos-anywhere.


<ParamField path="Options">
|     |     |
| --- | --- |
| `--user TEXT` | User that will connect to the machine through nixos-anywhere. |
| `--remote-build` | build the closure on the remote machine instead of locally and copy-closuring it. |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets
```bash
nix run github:plmercereau/nicos -- secrets [OPTIONS] COMMAND [ARGS]...
```

  Manage the secrets for the cluster


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>


<ParamField path="Commands">
|     |     |
| --- | --- |
| [edit](#nicos-secrets-edit) | Edit a secret |
| [export](#nicos-secrets-export) | Export the secrets config in the cluster as a JSON object |
| [list](#nicos-secrets-list) | List the secrets in the cluster |
| [rekey](#nicos-secrets-rekey) | Rekey all the secrets in the cluster. |
| [user](#nicos-secrets-user) | Edit a user password |
| [wifi](#nicos-secrets-wifi) | Edit wifi networks and passwords |
</ParamField>

## nicos secrets edit
```bash
nix run github:plmercereau/nicos -- secrets edit [OPTIONS] PATH
```

  Edit a secret


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets export
```bash
nix run github:plmercereau/nicos -- secrets export [OPTIONS]
```

  Export the secrets config in the cluster as a JSON object


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets list
```bash
nix run github:plmercereau/nicos -- secrets list [OPTIONS]
```

  List the secrets in the cluster


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets rekey
```bash
nix run github:plmercereau/nicos -- secrets rekey [OPTIONS]
```

  Rekey all the secrets in the cluster.


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets user
```bash
nix run github:plmercereau/nicos -- secrets user [OPTIONS] NAME PASSWORD
```

  Edit a user password


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

## nicos secrets wifi
```bash
nix run github:plmercereau/nicos -- secrets wifi [OPTIONS]
```

  Edit wifi networks and passwords


<ParamField path="Options">
|     |     |
| --- | --- |
| `--help` | Show this message and exit. |
</ParamField>

