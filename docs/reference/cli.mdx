---
title: "Command line interface"
sidebarTitle: "CLI"
icon: "terminal"
comment: "AUTOGENERATED FILE, DO NOT MODIFY MANUALLY"
---

## nicos
### Usage

```bash
nix run github:plmercereau/nicos -- [OPTIONS] COMMAND [ARGS]...
```

### Options
```
  --ci / --no-ci  Run in CI mode, which disables prompts. Some commands are
                  not available in CI mode.
  --help          Show this message and exit.
```

### Commands
|     |     |
| --- | --- |
| [build](#nicos-build) | Build a machine ISO image. |
| [create](#nicos-create) | Create a new machine in the cluster. |
| [deploy](#nicos-deploy) | Deploy one or several existing machines |
| [install](#nicos-install) | Deploy one or several existing machines |
| [secrets](#nicos-secrets) | Manage the secrets for the cluster |

## nicos build
### Usage

```bash
nix run github:plmercereau/nicos -- build [OPTIONS] [MACHINE]
```

  Build a machine ISO image.

### Options
```
  -k, --private-key-path TEXT  The path to the private key to use. Defaults to
                               ssh_<machine>_ed25519_key.
  --help                       Show this message and exit.
```

## nicos create
### Usage

```bash
nix run github:plmercereau/nicos -- create [OPTIONS] [NAME]
```

  Create a new machine in the cluster.

### Options
```
  --rekey / --no-rekey  Rekey the secrets after creating the machine
                        configuration.
  --help                Show this message and exit.
```

## nicos deploy
### Usage

```bash
nix run github:plmercereau/nicos -- deploy [OPTIONS] [MACHINES]...
```

  Deploy one or several existing machines

### Options
```
  --network [vpn|lan|public|default]
                                  Way to connect to the machines.
  --all                           Deploy all available machines.
  --nixos                         Include the NixOS machines.
  --darwin                        Include the Darwin machines.
  --remote-build                  Build on remote host.
  --help                          Show this message and exit.
```

## nicos install
### Usage

```bash
nix run github:plmercereau/nicos -- install [OPTIONS] [MACHINE] [IP]
```

  Deploy one or several existing machines

### Options
```
  --user TEXT     User that will connect to the machine through nixos-
                  anywhere.
  --remote-build  build the closure on the remote machine instead of locally
                  and copy-closuring it.
  --help          Show this message and exit.
```

## nicos secrets
### Usage

```bash
nix run github:plmercereau/nicos -- secrets [OPTIONS] COMMAND [ARGS]...
```

  Manage the secrets for the cluster

### Options
```
  --help  Show this message and exit.
```

### Commands
|     |     |
| --- | --- |
| [edit](#nicos-secrets-edit) | Edit a secret |
| [export](#nicos-secrets-export) | Export the secrets config in the cluster as a JSON object |
| [list](#nicos-secrets-list) | List the secrets in the cluster |
| [rekey](#nicos-secrets-rekey) | Rekey all the secrets in the cluster. |
| [user](#nicos-secrets-user) | Edit a user password |
| [wifi](#nicos-secrets-wifi) | Edit wifi networks and passwords |

## nicos secrets edit
### Usage

```bash
nix run github:plmercereau/nicos -- secrets edit [OPTIONS] PATH
```

  Edit a secret

### Options
```
  --help  Show this message and exit.
```

## nicos secrets export
### Usage

```bash
nix run github:plmercereau/nicos -- secrets export [OPTIONS]
```

  Export the secrets config in the cluster as a JSON object

### Options
```
  --help  Show this message and exit.
```

## nicos secrets list
### Usage

```bash
nix run github:plmercereau/nicos -- secrets list [OPTIONS]
```

  List the secrets in the cluster

### Options
```
  --help  Show this message and exit.
```

## nicos secrets rekey
### Usage

```bash
nix run github:plmercereau/nicos -- secrets rekey [OPTIONS]
```

  Rekey all the secrets in the cluster.

### Options
```
  --help  Show this message and exit.
```

## nicos secrets user
### Usage

```bash
nix run github:plmercereau/nicos -- secrets user [OPTIONS] NAME PASSWORD
```

  Edit a user password

### Options
```
  --help  Show this message and exit.
```

## nicos secrets wifi
### Usage

```bash
nix run github:plmercereau/nicos -- secrets wifi [OPTIONS]
```

  Edit wifi networks and passwords

### Options
```
  --help  Show this message and exit.
```

