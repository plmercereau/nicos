---
title: "Command line interface"
sidebarTitle: "CLI"
icon: "terminal"
comment: "AUTOGENERATED FILE, DO NOT MODIFY MANUALLY"
---
## nicos
### Usage

```bash
nix run github:plmercereau/nicos -- [OPTIONS] COMMAND [ARGS]...
```

### Options
```
  --ci / --no-ci  Run in CI mode, which disables prompts. Some commands are
                  not available in CI mode.
  --help          Show this message and exit.
```

### Commands
```
  build    Build a machine ISO image.
  create   Create a new machine in the cluster.
  deploy   Deploy one or several existing machines
  install  Deploy one or several existing machines
  secrets  Manage the secrets for the cluster
```

## nicos build
### Usage

```bash
nix run github:plmercereau/nicos -- build [OPTIONS] [MACHINE]
```

  Build a machine ISO image.

### Options
```
  -k, --private-key-path TEXT  The path to the private key to use. Defaults to
                               ssh_<machine>_ed25519_key.
  --help                       Show this message and exit.
```

## nicos create
### Usage

```bash
nix run github:plmercereau/nicos -- create [OPTIONS] [NAME]
```

  Create a new machine in the cluster.

### Options
```
  --rekey / --no-rekey  Rekey the secrets after creating the machine
                        configuration.
  --help                Show this message and exit.
```

## nicos deploy
### Usage

```bash
nix run github:plmercereau/nicos -- deploy [OPTIONS] [MACHINES]...
```

  Deploy one or several existing machines

### Options
```
  --network [vpn|lan|public|default]
                                  Way to connect to the machines.
  --all                           Deploy all available machines.
  --nixos                         Include the NixOS machines.
  --darwin                        Include the Darwin machines.
  --remote-build                  Build on remote host.
  --help                          Show this message and exit.
```

## nicos install
### Usage

```bash
nix run github:plmercereau/nicos -- install [OPTIONS] [MACHINE] [IP]
```

  Deploy one or several existing machines

### Options
```
  --user TEXT     User that will connect to the machine through nixos-
                  anywhere.
  --remote-build  build the closure on the remote machine instead of locally
                  and copy-closuring it.
  --help          Show this message and exit.
```

## nicos secrets
### Usage

```bash
nix run github:plmercereau/nicos -- secrets [OPTIONS] COMMAND [ARGS]...
```

  Manage the secrets for the cluster

### Options
```
  --help  Show this message and exit.
```

### Commands
```
  edit    Edit a secret
  export  Export the secrets config in the cluster as a JSON object
  list    List the secrets in the cluster
  rekey   Rekey all the secrets in the cluster.
  user    Edit a user password
  wifi    Edit wifi networks and passwords
```

