---
title: "NixOS options"
sidebarTitle: "NixOS"
icon: "linux"
comment: "AUTOGENERATED FILE, DO NOT MODIFY MANUALLY"
---

<h4 id="settings.networking.vpn.bastion.enable">
  <span class="hidden">`settings.networking.vpn.bastion.enable`</span>
</h4>

<ResponseField
    name="settings.networking.vpn.bastion.enable"
    type="boolean"
    default={false}
    
    >
Whether to enable the Wireguard VPN server on this machine.


Declared in [modules/networking/vpn/nixos/bastion.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/vpn/nixos/bastion.nix#L15).
</ResponseField>

<h4 id="settings.networking.vpn.bastion.externalInterface">
  <span class="hidden">`settings.networking.vpn.bastion.externalInterface`</span>
</h4>

<ResponseField
    name="settings.networking.vpn.bastion.externalInterface"
    type="string"
    default={"eth0"}
    
    >
External interface of the bastion for NAT.


Declared in [modules/networking/vpn/nixos/bastion.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/vpn/nixos/bastion.nix#L30).
</ResponseField>

<h4 id="settings.networking.vpn.bastion.port">
  <span class="hidden">`settings.networking.vpn.bastion.port`</span>
</h4>

<ResponseField
    name="settings.networking.vpn.bastion.port"
    type="signed integer"
    default={51820}
    
    >

This port must not be block by an external firewall so clients can reach it.


Declared in [modules/networking/vpn/nixos/bastion.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/vpn/nixos/bastion.nix#L22).
</ResponseField>

<h4 id="settings.services.fs.enable">
  <span class="hidden">`settings.services.fs.enable`</span>
</h4>

<ResponseField
    name="settings.services.fs.enable"
    type="boolean"
    default={true}
    
    >
Enable services related to better filesystem management, for instance fstrim and udisks2.

Declared in [modules/services/fs/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/fs/nixos.nix#L11).
</ResponseField>

<h4 id="settings.services.kubernetes.enable">
  <span class="hidden">`settings.services.kubernetes.enable`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.enable"
    type="boolean"
    default={false}
    
    >
Run a k3s Kubernetes node on the machine.

Declared in [modules/services/kubernetes/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/nixos.nix#L13).
</ResponseField>

<h4 id="settings.services.kubernetes.fleet.clustersNamespace">
  <span class="hidden">`settings.services.kubernetes.fleet.clustersNamespace`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.fleet.clustersNamespace"
    type="string"
    default={"clusters"}
    
    >
Namespace where the clusters are defined when running in upstream mode

Declared in [modules/services/kubernetes/fleet/default.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/fleet/default.nix#L67).
</ResponseField>

<h4 id="settings.services.kubernetes.fleet.connectionUser">
  <span class="hidden">`settings.services.kubernetes.fleet.connectionUser`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.fleet.connectionUser"
    type="string"
    default={"fleet-connection-user"}
    
    >
User to connect to the upstream machine and patch the kubeconfig secret of the downstream cluster

Declared in [modules/services/kubernetes/fleet/upstream.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/fleet/upstream.nix#L26).
</ResponseField>

<h4 id="settings.services.kubernetes.fleet.enable">
  <span class="hidden">`settings.services.kubernetes.fleet.enable`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.fleet.enable"
    type="boolean"
    default={false}
    
    >
Enable fleet

Declared in [modules/services/kubernetes/fleet/default.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/fleet/default.nix#L57).
</ResponseField>

<h4 id="settings.services.kubernetes.fleet.mode">
  <span class="hidden">`settings.services.kubernetes.fleet.mode`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.fleet.mode"
    type="one of "standalone", "upstream", "downstream""
    default={"standalone"}
    
    >
Fleet mode.
Standalone will install the manager and agent on the same node, and will manage its own applications.
Upstream will install the manager, and will manage applications on downstream clusters. There should be only one upstream cluster in the project.
Downstream will install the agent, and will manage applications on the upstream cluster. An upstream cluster is required in the project.


Declared in [modules/services/kubernetes/fleet/default.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/fleet/default.nix#L72).
</ResponseField>

<h4 id="settings.services.kubernetes.fleet.namespace">
  <span class="hidden">`settings.services.kubernetes.fleet.namespace`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.fleet.namespace"
    type="string"
    default={"fleet-system"}
    
    >
Namespace where fleet will run

Declared in [modules/services/kubernetes/fleet/default.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/fleet/default.nix#L62).
</ResponseField>

<h4 id="settings.services.kubernetes.group">
  <span class="hidden">`settings.services.kubernetes.group`</span>
</h4>

<ResponseField
    name="settings.services.kubernetes.group"
    type="string"
    default={"k8s-admin"}
    
    >
Group that has access to the k3s config.

Declared in [modules/services/kubernetes/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/kubernetes/nixos.nix#L18).
</ResponseField>

<h4 id="settings.services.mdns.enable">
  <span class="hidden">`settings.services.mdns.enable`</span>
</h4>

<ResponseField
    name="settings.services.mdns.enable"
    type="boolean"
    default={true}
    
    >
Enable mDNS service (avahi).

Declared in [modules/networking/mdns/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/mdns/nixos.nix#L11).
</ResponseField>

<h4 id="settings.services.time.enable">
  <span class="hidden">`settings.services.time.enable`</span>
</h4>

<ResponseField
    name="settings.services.time.enable"
    type="boolean"
    default={true}
    
    >
Enable timesyncd and htpdate.

Declared in [modules/services/time/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/services/time/nixos.nix#L11).
</ResponseField>

<h4 id="settings.ssh.fail2ban.enable">
  <span class="hidden">`settings.ssh.fail2ban.enable`</span>
</h4>

<ResponseField
    name="settings.ssh.fail2ban.enable"
    type="boolean"
    default={false}
    
    >
Enable fail2ban to block SSH brute force attacks.

By default, Fail2ban is enabled if sshguard is disabled.


Declared in [modules/networking/ssh/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/ssh/nixos.nix#L10).
</ResponseField>

<h4 id="settings.ssh.sshguard.enable">
  <span class="hidden">`settings.ssh.sshguard.enable`</span>
</h4>

<ResponseField
    name="settings.ssh.sshguard.enable"
    type="boolean"
    default={true}
    
    >
Enable sshguard to block SSH brute force attacks.

Declared in [modules/networking/ssh/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/networking/ssh/nixos.nix#L19).
</ResponseField>

<h4 id="settings.system.impermanence.enable">
  <span class="hidden">`settings.system.impermanence.enable`</span>
</h4>

<ResponseField
    name="settings.system.impermanence.enable"
    type="boolean"
    default={false}
    
    >
Whether to enable impermanence.
```nix Example
true
```

Declared in [modules/impermanence/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/impermanence/nixos.nix#L11).
</ResponseField>

<h4 id="settings.system.impermanence.persistentSystemPath">
  <span class="hidden">`settings.system.impermanence.persistentSystemPath`</span>
</h4>

<ResponseField
    name="settings.system.impermanence.persistentSystemPath"
    type="string"
    default={"/nix/persist/system"}
    
    >
Path to where the persisted part of the system lies

Declared in [modules/impermanence/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/impermanence/nixos.nix#L12).
</ResponseField>

<h4 id="settings.system.swap.file.enable">
  <span class="hidden">`settings.system.swap.file.enable`</span>
</h4>

<ResponseField
    name="settings.system.swap.file.enable"
    type="boolean"
    default={true}
    
    >
Enable a swap file on the root partition.

Declared in [modules/swap/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/swap/nixos.nix#L19).
</ResponseField>

<h4 id="settings.system.swap.file.size">
  <span class="hidden">`settings.system.swap.file.size`</span>
</h4>

<ResponseField
    name="settings.system.swap.file.size"
    type="integer between 0 and 10 (both inclusive)"
    default={1}
    
    >
Size of the swap file in GiB.

Declared in [modules/swap/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/swap/nixos.nix#L25).
</ResponseField>

<h4 id="settings.system.swap.zram.enable">
  <span class="hidden">`settings.system.swap.zram.enable`</span>
</h4>

<ResponseField
    name="settings.system.swap.zram.enable"
    type="boolean"
    default={true}
    
    >
Enable a swap file in a zram device.

Declared in [modules/swap/nixos.nix](https://github.com/plmercereau/nicos/blob/main/modules/swap/nixos.nix#L12).
</ResponseField>

